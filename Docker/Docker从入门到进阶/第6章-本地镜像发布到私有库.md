# 本地镜像发布到私有库

## 本地镜像发布到私有库流程

![image-20220602110905108](img/image-20220602110905108.png)

## 是什么

1. 官网 Docker Hub 地址：https://hub.docker.com/，中国大陆访问太慢了且有被阿里云取代的趋势，不太主流。
2. Docker Hub、阿里云这样的公共镜像仓库可能不太方便，涉及机密的公司不可能提供镜像给公网，所以需要创建一个本地私人仓库供给团队使用，基于公司内部项目构建镜像。
3. Docker Registry 是官方提供的工具，可以用于构建私有镜像仓库。

## 将本地镜像推送到私有库

1. 下载镜像 Docker Registry
2. 运行私有库 Registry，相当于本地有个私有 Docker Hub
3. 案例演示创建一个新镜像，Ubuntu 安装 ifconfig 命令
4. curl 验证私服库上有什么镜像
5. 将新镜像修改符合私服规范的 Tag
6. 修改配置文件使之支持 http
7. push 推送到私服库
8. curl 验证私服库上有什么镜像
9. pull 到本地并运行
